#!/bin/bash

shopt -s expand_aliases

alias k="kubectl --namespace=entorn"

hub_image=`k get po | grep hub | cut -f1 -d" "`
jupyter_image=`k get po | grep jupyter | cut -f1 -d" "`

if [ "$jupyter_image" == "" ]; then
        echo "Jupyter singleuser pod not found." 
else
        echo "Stopping $jupyter_image ..."
        k delete po $jupyter_image > /dev/null 2>&1
fi


if [ "$hub_image" == "" ]; then
	echo "Error: hub pod not found!"
else
	echo "Restarting $hub_image ..."
	k delete po $hub_image > /dev/null 2>&1
fi

echo
echo "Entorn has been restarted."
echo

exit 0

